2025-05-20 00:58:07,782 - INFO - Using random seed: 42
2025-05-20 00:58:07,782 - INFO - Starting experiment with configuration:
2025-05-20 00:58:07,783 - INFO -   num_episodes: 1
2025-05-20 00:58:07,783 - INFO -   target_distance_range: (15.0, 50.0)
2025-05-20 00:58:07,783 - INFO -   random_seed: 42
2025-05-20 00:58:07,784 - INFO -   max_steps_per_episode: 100
2025-05-20 00:58:07,784 - INFO -   output_dir: experiment_results
2025-05-20 00:58:07,784 - INFO -   stuck_timeout: 15.0
2025-05-20 00:58:07,784 - INFO -   stuck_check_interval: 3.0
2025-05-20 00:58:07,786 - INFO -   episode_timeout: 120
2025-05-20 00:58:07,786 - INFO -   precompile_julia: False
2025-05-20 00:58:07,786 - INFO -   zmq_port: 5555
2025-05-20 00:58:07,786 - INFO -   debug_raycasting: False
2025-05-20 00:58:07,787 - INFO -   min_ray_checks: 3
2025-05-20 00:58:07,787 - INFO -   max_ray_checks: 7
2025-05-20 00:58:07,787 - INFO -   visualize_raycasts: False
2025-05-20 00:58:07,787 - INFO -   visualization_duration: 60.0
2025-05-20 00:58:11,468 - INFO - System information collected and saved
2025-05-20 00:58:11,479 - INFO - AirSim connection established successfully
2025-05-20 00:58:11,594 - INFO - Starting episode 0 of 1
2025-05-20 00:58:11,595 - INFO - === Starting Episode 0 ===
2025-05-20 00:58:11,596 - INFO - Episode 0: Taking off...
2025-05-20 00:58:17,339 - INFO - Target distance range for episode 0: 15.0m - 50.0m
2025-05-20 00:58:17,404 - INFO - Found first valid target at [-8.13, -9.76, -2.0]
2025-05-20 00:58:21,564 - INFO - Phase 2: Found 50 valid targets, focusing on refining these
2025-05-20 00:58:23,648 - INFO - Found 77 valid targets, selecting best with 0.00m clearance
2025-05-20 00:58:23,648 - INFO - Episode 0: Target sampling took 6.31s with 3 rays
2025-05-20 00:58:23,648 - INFO - Episode 0: Initial distance to target: 12.71m
2025-05-20 00:58:23,649 - INFO - Episode 0: Initial position: [0.0, 0.0, -1.67]
2025-05-20 00:58:23,649 - INFO - Episode 0: Target position: [-8.13, -9.76, -2.0]
2025-05-20 00:58:23,649 - INFO - Episode 0: Initial distance: 12.71m
2025-05-20 00:58:23,654 - INFO - Episode 0: Target verified with 3 rays
2025-05-20 00:58:23,684 - ERROR - Error in episode 0: cannot access local variable 'previous_step_waypoint' where it is not associated with a value
2025-05-20 00:58:23,688 - ERROR - Traceback (most recent call last):
  File "C:\Users\harshil_airsim_1\Desktop\AirSim\Hierarchical-Active-Inference-for-Autonomous-Drone-Navigation-in-Microsoft-AirSim\data_collection.py", line 3276, in run_experiment
    step_metrics, episode_summary = run_episode(
                                    ^^^^^^^^^^^^
  File "C:\Users\harshil_airsim_1\Desktop\AirSim\Hierarchical-Active-Inference-for-Autonomous-Drone-Navigation-in-Microsoft-AirSim\data_collection.py", line 2869, in run_episode
    "control_error": np.linalg.norm(np.array(next_waypoint) - np.array(drone_pos)) if previous_step_waypoint is not None else 0,
                                                                                      ^^^^^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'previous_step_waypoint' where it is not associated with a value

2025-05-20 00:58:23,690 - INFO - Saved recovery data for episode -1
2025-05-20 00:58:23,691 - INFO - Experiment completed successfully, removed recovery data
2025-05-20 00:58:23,691 - INFO - Experiment completed. Results saved to experiment_results\experiment_20250520_005807
